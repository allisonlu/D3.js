<!doctype html>
<html>
<head>
    <title>D3 tutorial</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <style>
        .chart div {
            font: 10px san-serif;
            background-color: steelblue;
            text-align: right;
            padding: 3px;
            margin: 1px;
            color: white;
    </style>
</head>
    
<body>
    <div class="chart"></div>
    <script>
        // d3 is an object: a bunch of data
        
        var data = [4, 8, 15, 16, 23, 42];
        
        var x = d3.scale.linear()
            .domain([0, d3.max(data)])
            .range([0, 420]);
        
        // data join: used to create, update or destroy elements whenever data changes
        d3.select('.chart')
            .selectAll('div')
                .data(data)
            .enter().append('div')
                .style('width', function(d) {
                    return x(d) + 'px';
                })
                .text(function(d) {
                    return d;
                });
        
//        select chart
//        var chart = d3.select('.chart');
//        
//        initiate data join, define selection to which we will join data
//        var bar = chart.selectAll('div');
//        
//        join data (defined previously) to selection 
//        var barUpdate = bar.data(data);
//        
//        instantiate empty elements, append to the enter selection
//        var barEnter = barUpdate.enter().append('div');
//        
//        set width of each new bar of associated data value, d
//        set dimensions of each bar based on its data, pass in a function to compute width style 
//        barEnter.style('width', function(d) {
//            return d*10 + 'px'; 
//        });
//        
//        set text content of each bar, make label
//        barEnter.text(function(d) {
//            return d;
//        });
        
    </script>
</body>
</html>